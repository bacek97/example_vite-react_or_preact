var M=function(p,i,c,n){var s;i[0]=0;for(var u=1;u<i.length;u++){var g=i[u++],f=i[u]?(i[0]|=g?1:2,c[i[u++]]):i[++u];g===3?n[0]=f:g===4?n[1]=Object.assign(n[1]||{},f):g===5?(n[1]=n[1]||{})[i[++u]]=f:g===6?n[1][i[++u]]+=f+"":g?(s=p.apply(f,M(p,f,c,["",null])),n.push(s),f[0]?i[0]|=2:(i[u-2]=0,i[u]=s)):n.push(f)}return n},w=new Map;function b(p){var i=w.get(this);return i||(i=new Map,w.set(this,i)),(i=M(this,i.get(p)||(i.set(p,i=function(c){for(var n,s,u=1,g="",f="",o=[0],l=function(v){u===1&&(v||(g=g.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,v,g):u===3&&(v||g)?(o.push(3,v,g),u=2):u===2&&g==="..."&&v?o.push(4,v,0):u===2&&g&&!v?o.push(5,0,!0,g):u>=5&&((g||!v&&u===5)&&(o.push(u,0,g,s),u=6),v&&(o.push(u,v,0,s),u=6)),g=""},t=0;t<c.length;t++){t&&(u===1&&l(),l(t));for(var m=0;m<c[t].length;m++)n=c[t][m],u===1?n==="<"?(l(),o=[o],u=3):g+=n:u===4?g==="--"&&n===">"?(u=1,g=""):g=n+g[0]:f?n===f?f="":g+=n:n==='"'||n==="'"?f=n:n===">"?(l(),u=1):u&&(n==="="?(u=5,s=g,g=""):n==="/"&&(u<5||c[t][m+1]===">")?(l(),u===3&&(o=o[0]),u=o,(o=o[0]).push(2,0,u),u=0):n===" "||n==="	"||n===`
`||n==="\r"?(l(),u=2):g+=n),u===3&&g==="!--"&&(u=4,o=o[0])}return l(),o}(p)),i),arguments,[])).length>1?i:i[0]}export{b as m};
